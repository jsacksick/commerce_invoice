services:
  commerce_invoice.invoice_generator:
    class: Drupal\commerce_invoice\InvoiceGenerator
    arguments: ['@database', '@entity_type.manager']

  commerce_invoice.invoice_number_generator:
    class: Drupal\commerce_invoice\InvoiceNumberGenerator
    arguments: ['@database', '@lock', '@datetime.time']

  commerce_invoice.invoice_total_summary:
    class: Drupal\commerce_invoice\InvoiceTotalSummary
    arguments: ['@commerce_order.adjustment_transformer']

  commerce_invoice.entity_print_subscriber:
    class: Drupal\commerce_invoice\EventSubscriber\EntityPrintSubscriber
    tags:
      - { name: event_subscriber }

  commerce_invoice.order_paid_subscriber:
    class: Drupal\commerce_invoice\EventSubscriber\OrderPaidSubscriber
    arguments: ['@entity_type.manager']
    tags:
      - { name: event_subscriber }

  logger.channel.commerce_invoice:
    class: Drupal\Core\Logger\LoggerChannel
    factory: logger.factory:get
    arguments: ['commerce_invoice']

  plugin.manager.commerce_number_generator:
    class: Drupal\commerce_invoice\NumberGeneratorManager
    parent: default_plugin_manager
